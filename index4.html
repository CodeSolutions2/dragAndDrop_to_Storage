<!DOCTYPE html>
<html>
<head></head>
    
<body>

</body>


<script>

window.onload = async (event) => { await run_it(); };


async function run_it() {
    
    var n = 5;
    var k = 2;

    // ---------------------------------
    
    var S = Array.from({length: n}, (_,i) => i+1);
    console.log('S: ', S);

    // Create a
    // var lowest_val = S.sort().shift();
    
    var a = [];
    var b = [];
    for (let i=S.sort().shift(); i < n; i++) {
        // Create a
        let temp = Array.from({length: n-i}, (_,index) => i);
        a = a.concat(temp);

        // Create b
        let temp_b = Array.from({length: n-i}, (_,index) => index+(i+1));
        b = b.concat(temp_b);
    }
    console.log('a: ', a);
    console.log('b: ', b);

    // ---------------------------------

    // Find the max decimal number after bitwise AND operation on binary values
    // var bin_a_str;
    // var bin_b_str;
    // var decimal_arr = [];
    
    // for (let i=0; i<a.length; i++) {
        // Convert decimal to binary
    //     bin_a_str = a.at(i).toString(2);
    //     bin_b_str = b.at(i).toString(2);
    //     decimal_arr.push(parseInt(bin_a_str, 2) & parseInt(bin_b_str, 2));
    // }
    // OR
    var decimal_arr = a.map((val, ind) => { return parseInt(val.toString(2), 2) & parseInt(b.at(ind).toString(2), 2); });

    // ---------------------------------
    
    var max_num = decimal_arr.sort().pop();
    
    var max_loop_num = 0;
    while (max_num > k-1 && max_loop_num < decimal_arr.length) {
        max_num = decimal_arr.pop();
        max_loop_num += 1;
    }
    console.log('max_num: ', max_num);
    return max_num;
}

    
</script>
  
</html>

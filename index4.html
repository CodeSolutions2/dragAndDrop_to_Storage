<!DOCTYPE html>
<html>
<head></head>
    
<body>

</body>


<script>

window.onload = async (event) => { await run_it(); };


async function run_it() {
    var n = 9;
    var k = 2;
    // var max_num = await getMaxLessThanK(n, k);
    // console.log('max_num:', max_num);
    
    var out_max = 0;
    var out = 0;
    
    for (let i=1; i < n; i++) {
        for (let j=0; j < (n-i); j++) {
            out = i & (i+1)+j;
            if (out < k && out > out_max) {
                out_max = out;
            }
            console.log('out_max:', out_max);
            console.log('out:', out);
    }
    
    console.log('out_max:', out_max);
}





    
async function getMaxLessThanK(n, k) {
    
    var decimal_arr = [];
    for (let i=1; i < n; i++) {
        let a = Array.from({length: n-i}, (_,index) => i);
        let b = Array.from({length: n-i}, (_,index) => index+(i+1));
        let out = a.map((val, ind) => { return val & b.at(ind); }).sort().pop();
        if (out < k) {
            decimal_arr.push(out);
        }
    }
    return decimal_arr.sort().pop();
}


async function getMaxLessThanK1(n, k) {
    
    var out_max = 0;
    var out = 0;
    
    for (let i=1; i < n; i++) {
        for (let j=0; j < (n-i); j++) {
            out = i & (i+1)+j;
            if (out < k && out > out_max) {
                out_max = out;
            }
    }
    return out_max;
}

    
</script>
  
</html>

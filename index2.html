<!DOCTYPE html>
<html>
<head></head>
<body>

<input id="location_name" type="text" value="" placeholder="location_name" rows="10" cols="100" style="display:block; text-align: left; width: 600px;">

<button id="run_selection" onclick="run_selection()">Run Selection</button>

<script src='https://code.jquery.com/jquery-3.6.3.min.js'></script>

<script>
	
// -----------------------------------------------
	
window.addEventListener('beforeunload', function() {
    window.location.href = window.location.href + '?nocache=' + new Date().getTime();
});


async function run_selection(url, options) {

  var url = `https://nominatim.openstreetmap.org/search?q=${document.getElementById('location_name').innerHTML}&format=json`;

  var settings = {
		type : 'GET',
		url: url,
		dataType: 'jsonp',
		async: true,
		crossDomain: true,
		success: function(response) { console.log(response); },
		error: function(xhr, status, error) { console.log('Error:', error); }
	};

  $.ajax(settings).done(function(response) { console.log('response: ', response); })

// OpaqueResponseBlocking error occurs because the browser blocks the response due to cross-origin restrictions. This typically happens when the requested resource is on a different domain or protocol than the origin of the request.
	
}



	
</script>





  
</body>
</html>
